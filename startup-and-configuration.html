<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-08-03T17:31:22.002607"><title>Startup and configuration | FooocusAPI</title><script type="application/json" id="virtual-toc-data">[{"id":"fooocusapi-options","level":0,"title":"FooocusAPI options","anchor":"#fooocusapi-options"},{"id":"fooocus-options","level":0,"title":"Fooocus options","anchor":"#fooocus-options"},{"id":"port-configuration","level":0,"title":"Port configuration","anchor":"#port-configuration"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Startup and configuration | FooocusAPI"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="FooocusAPI Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/docs/en_us/startup-and-configuration.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Startup and configuration | FooocusAPI"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/docs/en_us/startup-and-configuration.html#webpage",
    "url": "writerside-documentation/docs/en_us/startup-and-configuration.html",
    "name": "Startup and configuration | FooocusAPI",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/docs/#website",
    "url": "writerside-documentation/docs/",
    "name": "FooocusAPI Help"
}</script><!-- End Schema.org --></head><body data-id="Startup-and-configuration" data-main-title="Startup and configuration" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Tutorial.md|Tutorial"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>FooocusAPI en_us Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Startup-and-configuration" id="Startup-and-configuration.md">Startup and configuration</h1><p id="ytqxiv_3">Although Fooocus is called a configuration, it does not have a separate configuration file. Almost all adjustable things are done through command line, and there was a thought to change the options to a configuration file during the refactoring, but I chose to continue using Fooocus's way.</p><p id="ytqxiv_4">This means that you don't need to change your usage habits, you can still use Fooocus in the way of Fooocus.</p><p id="ytqxiv_5">Most of the time, you don't need to change your usage habits, you can still use Fooocus in the way of Fooocus.</p><aside class="prompt" data-type="tip" data-title="" id="ytqxiv_6"><p id="ytqxiv_11">This section will mainly describe the new parts of FooocusAPI, and the parts that are affected by FooocusAPI, and some other necessary parts will also be mentioned.</p></aside><p id="ytqxiv_7">You can use <code class="code" id="ytqxiv_12">python launch.py --help</code> to view all available command line arguments.</p><section class="chapter"><h2 id="fooocusapi-options" data-toc="fooocusapi-options">FooocusAPI options</h2><p id="ytqxiv_13">This configuration options are FooocusAPI's own, used to control FooocusAPI's behavior.</p><ul class="list _bullet" id="ytqxiv_14"><li class="list__item" id="ytqxiv_15"><p><code class="code" id="ytqxiv_19">--nowebui</code>: Do not launch WebUI，Only API</p></li><li class="list__item" id="ytqxiv_16"><p><code class="code" id="ytqxiv_20">--base-url BASE_URL</code>: Used for replacing <code class="code" id="ytqxiv_21">base_url</code> in the returned URL, default is <code class="code" id="ytqxiv_22">http://127.0.0.1</code>.</p></li><li class="list__item" id="ytqxiv_17"><p><code class="code" id="ytqxiv_23">--apikey APIKEY</code>: If you specify this option, you need to add <code class="code" id="ytqxiv_24">X-API-KEY</code> to the <code class="code" id="ytqxiv_25">header</code> when requesting API, otherwise it will return 403.</p></li><li class="list__item" id="ytqxiv_18"><p><code class="code" id="ytqxiv_26">--webhook-url WEBHOOK_URL</code>: When the task is completed, a POST request will be sent to this URL, which is very useful for asynchronous tasks, and its priority is lower than the <code class="code" id="ytqxiv_27">webhook_url</code> passed in the task parameters.</p></li></ul></section><section class="chapter"><h2 id="fooocus-options" data-toc="fooocus-options">Fooocus options</h2><p id="ytqxiv_28">These are the options that Fooocus originally had, but now (maybe) will also affect the behavior of FooocusAPI.</p><ul class="list _bullet" id="ytqxiv_29"><li class="list__item" id="ytqxiv_32"><p><code class="code" id="ytqxiv_36">--listen [IP]</code>: Used for listening on the specified IP, the default is <code class="code" id="ytqxiv_37">127.0.0.1</code>, if you do not specify the specific value, only specify <code class="code" id="ytqxiv_38">--listen</code>, which is equivalent to specifying <code class="code" id="ytqxiv_39">--listen 0.0.0.0</code>. This parameter also affects the WebUI and API services.</p></li><li class="list__item" id="ytqxiv_33"><p><code class="code" id="ytqxiv_40">--port PORT</code>: Used for listening on the specified port, the default is <code class="code" id="ytqxiv_41">7865</code>, API uses the next port, the default is <code class="code" id="ytqxiv_42">7866</code>. This parameter also affects the WebUI and API services.</p></li><li class="list__item" id="ytqxiv_34"><p><code class="code" id="ytqxiv_43">--output-path OUTPUT_PATH</code>: Used to specify the output path, the default is <code class="code" id="ytqxiv_44">outputs</code>, which is in the project root directory. I do not recommend modifying this option, because the current version has not been tested, which may affect the accuracy of the API result path.</p></li><li class="list__item" id="ytqxiv_35"><p><code class="code" id="ytqxiv_45">--disable-image-log</code>: Used to disable saving images, which will cause the API service to fail to work.</p></li></ul><p id="ytqxiv_30">Some options mainly affect the behavior of WebUI, which are invalid for API:</p><ul class="list _bullet" id="ytqxiv_31"><li class="list__item" id="ytqxiv_46"><p><code class="code" id="ytqxiv_54">--in-browser</code></p></li><li class="list__item" id="ytqxiv_47"><p><code class="code" id="ytqxiv_55">--disable-in-browser</code></p></li><li class="list__item" id="ytqxiv_48"><p><code class="code" id="ytqxiv_56">--disable-preset-selection</code></p></li><li class="list__item" id="ytqxiv_49"><p><code class="code" id="ytqxiv_57">--disable-server-info</code></p></li><li class="list__item" id="ytqxiv_50"><p><code class="code" id="ytqxiv_58">--language LANGUAGE</code></p></li><li class="list__item" id="ytqxiv_51"><p><code class="code" id="ytqxiv_59">--theme THEME</code></p></li><li class="list__item" id="ytqxiv_52"><p><code class="code" id="ytqxiv_60">--disable-analytics</code></p></li><li class="list__item" id="ytqxiv_53"><p><code class="code" id="ytqxiv_61">--enable-auto-describe-image</code></p></li></ul></section><section class="chapter"><h2 id="port-configuration" data-toc="port-configuration">Port configuration</h2><p id="ytqxiv_62">There are two ways to modify the port that Fooocus's WebUI listens to, which are <code class="code" id="ytqxiv_66">--port PORT</code> and the environment variable <code class="code" id="ytqxiv_67">GRADIO_SERVER_PORT</code>.</p><p id="ytqxiv_63">These two ways will affect the port that Fooocus's API listens to, in addition, you can also modify the port of API service separately through the environment variable <code class="code" id="ytqxiv_68">API_PORT</code>. The priority is as follows:</p><p id="ytqxiv_64"><code class="code" id="ytqxiv_69">API_PORT &gt; --port PORT &gt; GRADIO_SERVER_PORT</code></p><aside class="prompt" data-type="tip" data-title="" id="ytqxiv_65"><p id="ytqxiv_70">The reason for this is that I think it is not necessary to add a separate option to modify the port of the API service, and the usage is low, so reuse the port configuration of WebUI. But change the port is indeed necessary, and using <code class="code" id="ytqxiv_71">--port PORT</code> can also be used, but it is not intuitive enough, so <code class="code" id="ytqxiv_72">API_PORT</code> is added. Another reason is to reduce the configuration requirements, that is, out of the box, no additional configuration is required, at this time, the port of WebUI can be retained as much as possible to retain the user's usage habits.</p></aside></section><div class="last-modified">Last modified: 03 八月 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="taskobject.html" class="navigation-links__prev">TaskObject</a><a href="generateendpoint.html" class="navigation-links__next">Generate</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.js"></script></body></html>