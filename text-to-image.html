<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-08-01T14:13:13.1012199"><title>Text to image | FooocusAPI</title><script type="application/json" id="virtual-toc-data">[]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Text to image | FooocusAPI"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="FooocusAPI Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/docs/en_us/text-to-image.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Text to image | FooocusAPI"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/docs/en_us/text-to-image.html#webpage",
    "url": "writerside-documentation/docs/en_us/text-to-image.html",
    "name": "Text to image | FooocusAPI",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/docs/#website",
    "url": "writerside-documentation/docs/",
    "name": "FooocusAPI Help"
}</script><!-- End Schema.org --></head><body data-id="Text-to-image" data-main-title="Text to image" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="How-to.md|How to"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>FooocusAPI en_us Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Text-to-image" id="Text-to-image.md">Text to image</h1><p id="z4abrsi_3">This is the simplest case, and even if you have no specific idea, you can send an empty data request, and it will still work.</p><div class="code-block" data-lang="python">
import requests

host = 'http://127.0.0.1:7866'
endpoint = '/v1/engine/generate'

params = {}

response = requests.post(host + endpoint, json=params)

print(response.json())
</div><p id="z4abrsi_5">It's as simple as that. In reality, there's nothing difficult about it. After that, you'll receive a JSON string, and by extracting the content from <code class="code" id="z4abrsi_9">result</code>, you'll get the link to the image that was just generated.</p><div class="code-block" data-lang="json">
{
    &quot;req_params&quot;: {
      ...
    },
    &quot;start_mills&quot;: 1722075451526,
    &quot;task_status&quot;: &quot;finished&quot;,
    &quot;webhook_url&quot;: &quot;&quot;,
    &quot;task_id&quot;: &quot;7a5e0a4598af40f6a0db0f9f65b54900&quot;,
    &quot;id&quot;: 131,
    &quot;in_queue_mills&quot;: 1722075451319,
    &quot;finish_mills&quot;: 1722075469000,
    &quot;progress&quot;: 100,
    &quot;result&quot;: [
        &quot;http://127.0.0.1:7866/outputs/2024-07-27/2024-07-27_18-17-48_9183.png&quot;
    ]
}
</div><p id="z4abrsi_7">Actually, as mentioned at the beginning of the documentation, regardless of which type of generation is performed, the actual processing method is the same. The only difference is in the parameters, so you can encapsulate it into a method:</p><div class="code-block" data-lang="python">
import requests

def generate_image(
    host: str = 'http://127.0.0.1:7866',
    endpoint: str = '/v1/engine/generate',
    params: dict = {}
) -&gt; dict:
    &quot;&quot;&quot;
    :host: server host
    :endpoint: server endpoint
    :params: request params
    
    :return: response json
    &quot;&quot;&quot;
    return requests.post(host + endpoint, json=params).json()
</div><div class="last-modified">Last modified: 01 八月 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="how-to.html" class="navigation-links__prev">How to</a><a href="inpaintoutpaint.html" class="navigation-links__next">InpaintOutpaint</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.js"></script></body></html>